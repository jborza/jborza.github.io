---
draft: true
date:   2021-05-20 18:00:00 +0200
tags: [qemu, windows, arm]
title: "Windows 2000 on an ARM Pinebook"
---

Pinebook, 
Windows 2k on ARM on QEMU

Prerequisities: `qemu-arch-extra` package (or build QEMU on your own with the `i386` target machine)

### Windows 2000 installation

First create a virtual hard drive with:

```
qemu-img create -f qcow2 <hard drive file> 2G
```

Then run the emulator, attaching the virtal hard drive, installation media, specifying 256 MB RAM, with sound and a network card. 

```
qemu-system-i386 -hda <hard drive file> -cdrom <ISO> -m 256 -boot c -vga cirrus -net nic,model=rtl8139 -net user
 -usb -device AC97 -localtime 
 ```

> If you don't want network, omit the `-net` parameters.

### Running it

After the system has finished installing, we don't need to attach the installation CD-ROM media anymore:

```
qemu-system-i386 -hda <hard drive file> -m 256 -boot c -vga cirrus -net nic,model=rtl8139 -net user
 -usb -device AC97 -localtime 
```

### Useful shortcuts
- CTRL+ALT+F for full screen
- CTRL+ALT+2 for QEMU monitor, then type `sendkey ctrl-alt-delete` to invoke the ctrl-alt-delete login key combination
- CTRL+ALT+G to turn off mouse grab (so you can move the cursor away from the window)


### Copying stuff inside the VM

I prefer using an FTP or HTTP server running on the host machine, then download zip packages through the browser.
TODO

Qemu should also provide a file share: -net user,smb=/absolute/path/to/folder https://unix.stackexchange.com/questions/165554/shared-folder-between-qemu-windows-guest-and-linux-host 

Futher reading: https://wiki.qemu.org/Windows2000

TODO screenshot

Windows 98? https://en.wikibooks.org/wiki/QEMU/Windows_98